<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
  <title>Bootstrap 101 Template</title>

  <!-- Bootstrap -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <style>
    .breadcrumb {
      background-color: #f5f5f5;
      padding: 0 20px;
      position: relative;
      z-index: 99;
      text-shadow: 0 0 black;
    }
    .breadcrumb {
      border-bottom: 1px solid #e5e5e5;
      line-height: 39px;
      height: 39px;
      overflow: hidden;
    }
  </style>
  <!--[if IE 6]>
  <script type="text/javascript" src="css/lib/DD_belatedPNG_0.0.8a-min.js" ></script>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
<nav class="breadcrumb"><i class="Hui-iconfont">&#xe67f;</i> 首页 <span class="c-gray en">&gt;</span> 个人主页管理 <span class="c-gray en">&gt;</span> 简历定制页面 </nav>
<div class="container">
  <form >
    <!--用户基本信息 -->
    <div name="basic">
      <h3>基本信息</h3>
      <div class="form-inline">
        <div class="row">
          <div class="col-md-5">
            <label class="col-md-4">真实姓名</label>
            <label class=" radio-inline">
              <input type="checkbox" name="basic_name"  value="true"> 必填
            </label>
          </div>
          <div class="col-md-4">
            <label class="col-md-4">性别</label>
            <label class=" radio-inline">
              <input type="checkbox" name="basic_sex"  value="true"> 必填
            </label>
          </div>
        </div>
      </div>


      <div class="form-inline">
        <div class="row">
          <div class="col-md-5">
            <label class="col-md-4">手机号码</label>
            <label class=" radio-inline">
              <input type="checkbox" name="basic_mobile"  value="true"> 必填
            </label>
          </div>
          <div class="col-md-4">
            <label class="col-md-4">常用邮箱</label>
            <label class=" radio-inline">
              <input type="checkbox" name="basic_email"  value="true"> 必填
            </label>
          </div>
        </div>
      </div>


      <div class="form-inline">
        <div class="row">
          <div class="col-md-5">
            <label class="col-md-4">出生日期</label>
            <label class=" radio-inline">
              <input type="checkbox" name="basic_birthday"  value="true"> 必填
            </label>
          </div>
          <div class="col-md-4">
            <label class="col-md-4">家庭所在地</label>
            <label class=" radio-inline">
              <input type="checkbox" name="basic_home"  value="true"> 必填
            </label>
          </div>
        </div>
      </div>


    </div>


    <!--用户建立内容 -->
    <div name="cv" style="margin-top: 5%">
      <div class="form-group">
        <div class="row">
          <div class="col-md-6">
            <div><label >社团经历设置</label></div>
            <label class=" radio-group">
              <input type="radio"   name="cv_require_club"  value="true"> 必填
              <input type="radio"    value="false"> 选填
            </label>
          </div>
        </div>
      </div>

      <div class="form-group">
        <div class="row">
          <div class="col-md-4">
            <div><label >获奖荣誉设置</label></div>
            <label class=" radio-group">
              <input type="radio" name="cv_require_rward"  value="true"> 必填
              <input type="radio"   value="false"> 选填
            </label>
          </div>
        </div>
      </div>


      <div class="form-group">
        <div class="row">
          <div class="col-md-4">
            <div><label >技能/证书设置</label></div>
            <label class=" radio-group">
              <input type="radio" name="cv_require_skil"  value="true"> 必填
              <input type="radio"   value="false"> 选填
            </label>
          </div>
        </div>
      </div>
    </div>


    <!--附加信息内容 -->
    <div name="additems" class="row" style="margin-top: 5%">
      <h3>附加信息设置</h3>
      <table class="table table-bordered">
        <thead>
        <tr>
          <th>是否显示</th>
          <th>附加信息类型</th>
          <th>附加信息内容</th>
          <th>是否为必填字段</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <!--是否有亲属在本公司任职-->
          <th class="col-xs-1">
            <label class=" radio-inline">
              <input type="checkbox" name="additems_checkbox_qinshu"  value="true">
            </label>
          </th>
          <th >
            <label >
              单选框
            </label>
          </th>
          <th >
            <label >是否有亲属在本公司任职</label>
            <label class=" radio-group">
              <input type="radio"   value="true">有
              <input type="radio"  value="false">无
            </label>
          </th>
          <th>
            <label class=" radio-group">
              <input type="radio" name="additems_require_qinshu"  value="true">必填
              <input type="radio"   value="false">选填
            </label>
          </th>
        </tr>
        <!--自我评价-->
        <tr>
          <th class="col-xs-1">
            <label class=" radio-inline">
              <input type="checkbox" name="additems_checkbox_evaluation"  value="true">
            </label>
          </th>
          <th >
            <label >
              文本框
            </label>
          </th>
          <th >
            <label >自我评价</label>
            <label >
              <input type="text" />
            </label>
          </th>
          <th>
            <label class=" radio-group">
              <input type="radio" name="additems_require_evaluation"  value="true">必填
              <input type="radio"   value="false">选填
            </label>
          </th>
        </tr>
        <tr>
          <!--是否有驾照-->
          <th class="col-xs-1">
            <label class=" radio-inline">
              <input type="checkbox" name="additems_checkbox_drivinglicense" value="true">
            </label>
          </th>
          <th >
            <label >
              单选框
            </label>
          </th>
          <th >
            <label >是否有驾照</label>
            <label class=" radio-group">
              <input type="radio"  value="true">有
              <input type="radio"  value="false">无
            </label>
          </th>
          <th>
            <label class=" radio-group">
              <input type="radio" name="additems_require_drl"  value="true">必填
              <input type="radio"   value="false">选填
            </label>
          </th>
        </tr>

        <tr>
          <!--是否残障-->
          <th class="col-xs-1">
            <label class=" radio-inline">
              <input type="checkbox" name="additems_checkbox_disability" value="true">
            </label>
          </th>
          <th >
            <label >
              单选框
            </label>
          </th>
          <th >
            <label >是否残障</label>
            <label class=" radio-group">
              <input type="radio"   value="true">有
              <input type="radio"   value="false">无
            </label>
          </th>
          <th>
            <label class=" radio-group">
              <input type="radio" name="additems_require_disability"  value="true">必填
              <input type="radio" n  value="false">选填
            </label>
          </th>
        </tr>
        <!--专场/业余爱好-->
        <tr>
          <th class="col-xs-1">
            <label class=" radio-inline">
              <input type="checkbox" name="additems_checkbox_expertise"  value="true">
            </label>
          </th>
          <th >
            <label >
              文本框
            </label>
          </th>
          <th >
            <label >专长/业余爱好</label>
            <label >
              <input type="text" />
            </label>
          </th>
          <th>
            <label class=" radio-group">
              <input type="radio" name="additems_require_expertise"  value="true">必填
              <input type="radio"   value="false">选填
            </label>
          </th>
        </tr>

        <!--身高-->
        <tr>
          <th class="col-xs-1">
            <label class=" radio-inline">
              <input type="checkbox" name="additems_checkbox_stature"  value="true">
            </label>
          </th>
          <th >
            <label >
              身高
            </label>
          </th>
          <th >
            <label >身高</label>
            <label >
              <input type="text" />
            </label>
          </th>
          <th>
            <label class=" radio-group">
              <input type="radio" name="additems_require_stature"  value="true">必填
              <input type="radio"   value="false">选填
            </label>
          </th>
        </tr>

        <!--体重-->
        <tr>
          <th class="col-xs-1">
            <label class=" radio-inline">
              <input type="checkbox"   value="true">
            </label>
          </th>
          <th >
            <label >
              体重
            </label>
          </th>
          <th >
            <label >体重</label>
            <label >
              <input type="text" />
            </label>
          </th>
          <th>
            <label class=" radio-group">
              <input type="radio" name="additems_require_weight"  value="true">必填
              <input type="radio"  value="false">选填
            </label>
          </th>
        </tr>

        <!--身份证号-->
        <tr>
          <th class="col-xs-1">
            <label class=" radio-inline">
              <input type="checkbox" name="additems_checkbox_IDcard"  value="true">
            </label>
          </th>
          <th >
            <label >
              身份证号
            </label>
          </th>
          <th >
            <label >身份证号</label>
            <label >
              <input type="text" />
            </label>
          </th>
          <th>
            <label class=" radio-group">
              <input type="radio" name="additems_require_IDcard"  value="true">必填
              <input type="radio"   value="false">选填
            </label>
          </th>
        </tr>
        </tbody>
      </table>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div >
          <button type="submit" class="btn btn-primary" id="save-button">保存</button>
        </div>
      </div>
      <div class="col-md-6">
        <div >
          <button type="submit" class="btn btn-success" id="pre-button">预览</button>
        </div>
      </div>
    </div>


  </form>


</div>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src=" js/bootstrap.min.js"></script>
<script>
  $('#save-button').click(function(event){
    event.preventDefault();
    var data = $('form').serializeArray();
    var obj1 = {};
    var obj2 = {};
    var obj3 = {};
    var CV = new Object();
    var cv = {};
    $.each(data,function(i,v){
      console.log(v.name);
      if (v.name.indexOf('basic')>=0)
      {
        obj1[v.name] = v.value;
      }
      if (v.name.indexOf('cv')>=0)
      {
        obj2[v.name] = v.value;
      }
      if (v.name.indexOf('additems')>=0)
      {
        obj3[v.name] = v.value;
      }
      CV.baisc = obj1;
      CV.cv = obj2;
      CV.additems = obj3;
      cv['basicInfo'] = JSON.stringify(CV.baisc);
      cv['cvItrams'] = JSON.stringify(CV.cv);
      cv['addQuiz'] = JSON.stringify(CV.additems);

    })
//    var css = '{"basicInfo": {"basic_name":"true"},"cvItrams": {"cv_require_club":"true"},"addQuiz": {"additems_checkbox_qinshu":"true"}}';
    console.log(cv);
    $.ajax({
      type : "POST",
      dataType : "json",
      data :JSON.stringify(cv),
      contentType: "application/json; charset=utf-8",
      url : "/cv/add",
      error: function(request) {
        alert("Connection error");
      },
      success: function(data) {
        console.log(data);
          alert("添加模板成功！");

        $("#commonLayout_appcreshi").parent().html(data);
      }
    })
  })


  $('#pre-button').click(function(event){
    event.preventDefault();
    var data = $('form').serializeArray();
    var obj1 = {};
    var obj2 = {};
    var obj3 = {};
    var CV = new Object();
    var cv = {};
    $.each(data,function(i,v){
      console.log(v.name);
      if (v.name.indexOf('basic')>=0)
      {
        obj1[v.name] = v.value;
      }
      if (v.name.indexOf('cv')>=0)
      {
        obj2[v.name] = v.value;
      }
      if (v.name.indexOf('additems')>=0)
      {
        obj3[v.name] = v.value;
      }
      CV.baisc = obj1;
      CV.cv = obj2;
      CV.additems = obj3;
      cv['basicInfo'] = JSON.stringify(CV.baisc);
      cv['cvItrams'] = JSON.stringify(CV.cv);
      cv['addQuiz'] = JSON.stringify(CV.additems);

    })
//    var css = '{"basicInfo": {"basic_name":"true"},"cvItrams": {"cv_require_club":"true"},"addQuiz": {"additems_checkbox_qinshu":"true"}}';
    console.log(cv);
    $.ajax({
      type : "POST",
      dataType : "json",
      data :JSON.stringify(cv),
      contentType: "application/json; charset=utf-8",
      url : "/cv/cvpre",

      success: function(data) {
        window.location.href = "/cv/cvpre1";
      }
    })
  })
</script>
</body>
</html>